diff --git a/net/netfilter/nf_tables_api.c b/net/netfilter/nf_tables_api.c
index da314be..3ff61ec 100644
--- a/net/netfilter/nf_tables_api.c
+++ b/net/netfilter/nf_tables_api.c
@@ -545,7 +545,7 @@ static int nf_tables_gettable(struct net *net, struct sock *nlsk,
 	int err;
 
 	if (nlh->nlmsg_flags & NLM_F_DUMP) {
-		struct netlink_dump_control c = {
+		static struct netlink_dump_control c = {
 			.dump = nf_tables_dump_tables,
 		};
 		return netlink_dump_start(nlsk, skb, nlh, &c);
@@ -1135,7 +1135,7 @@ static int nf_tables_getchain(struct net *net, struct sock *nlsk,
 	int err;
 
 	if (nlh->nlmsg_flags & NLM_F_DUMP) {
-		struct netlink_dump_control c = {
+		static struct netlink_dump_control c = {
 			.dump = nf_tables_dump_chains,
 		};
 		return netlink_dump_start(nlsk, skb, nlh, &c);
@@ -2051,7 +2051,7 @@ static int nf_tables_getrule(struct net *net, struct sock *nlsk,
 	int err;
 
 	if (nlh->nlmsg_flags & NLM_F_DUMP) {
-		struct netlink_dump_control c = {
+		netlink_dump_control_no_const c = {
 			.dump = nf_tables_dump_rules,
 			.done = nf_tables_dump_rules_done,
 		};
@@ -2831,20 +2831,17 @@ static int nf_tables_getset(struct net *net, struct sock *nlsk,
 		return err;
 
 	if (nlh->nlmsg_flags & NLM_F_DUMP) {
-		struct netlink_dump_control c = {
+		static struct netlink_dump_control c = {
 			.dump = nf_tables_dump_sets,
 			.done = nf_tables_dump_sets_done,
 		};
 		struct nft_ctx *ctx_dump;
 
-		ctx_dump = kmalloc(sizeof(*ctx_dump), GFP_KERNEL);
+		ctx_dump = kmemdup(&ctx, sizeof(ctx), GFP_KERNEL);
 		if (ctx_dump == NULL)
 			return -ENOMEM;
 
-		*ctx_dump = ctx;
-		c.data = ctx_dump;
-
-		return netlink_dump_start(nlsk, skb, nlh, &c);
+		return __netlink_dump_start(nlsk, skb, nlh, &c, ctx_dump, THIS_MODULE);
 	}
 
 	/* Only accept unspec with dump */
@@ -3486,7 +3483,7 @@ static int nf_tables_getsetelem(struct net *net, struct sock *nlsk,
 		return PTR_ERR(set);
 
 	if (nlh->nlmsg_flags & NLM_F_DUMP) {
-		struct netlink_dump_control c = {
+		static struct netlink_dump_control c = {
 			.dump = nf_tables_dump_set,
 			.done = nf_tables_dump_set_done,
 		};
@@ -4485,7 +4482,7 @@ static int nf_tables_getobj(struct net *net, struct sock *nlsk,
 	int err;
 
 	if (nlh->nlmsg_flags & NLM_F_DUMP) {
-		struct netlink_dump_control c = {
+		netlink_dump_control_no_const c = {
 			.dump = nf_tables_dump_obj,
 			.done = nf_tables_dump_obj_done,
 		};
